<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>The Cryptopedia World</title>

    <!-- Favicon and Home Screen Shortcuts -->
    <!-- Generated with the help of https://favicon.io/ and Pretty Printed https://youtu.be/YRzSxtcxVeo-->
    <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='images/apple-touch-icon.png') }}">
    <link rel="android-chrome" sizes="192x192" href="{{ url_for('static', filename='images/android-chrome-192x192.png') }}">
    <link rel="android-chrome" sizes="512x512" href="{{ url_for('static', filename='images/android-chrome-512x512.png') }}">
    <link rel="icon" type="image/x-icon" sizes="32x32" href="{{ url_for('static', filename='images/favicon-32x32.png') }}">
    <link rel="icon" type="image/x-icon" sizes="16x16" href="{{ url_for('static', filename='images/favicon-16x16.png') }}">
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='images/favicon.ico') }}">

    <!-- FontAwesome -->
    <script src="https://kit.fontawesome.com/0e62df9888.js" crossorigin="anonymous"></script>
    <!-- Materialize Fonts/Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Materialize CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" type="text/css"/>


</head>

<main>

    <header>
            
        <!-- Nav -->
        <nav class="navbar black-text">

            <!-- Nav wrapper -->
            <div class="nav-wrapper">

                <!-- Logo at Nav -->
                <a href="{{url_for('get_terms')}}" class="brand-logo">
                    <img id='image-logo' alt="The Cryptopedia World" src="{{ url_for('static', filename='images/logo-cpw-blue.png') }}">
                </a>
                <a href="#" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>
                
                <!-- Responsive Nav -->
                <ul id="nav-mobile" class="right hide-on-med-and-down">
                    <li>
                        <a class="nav-links" href="{{url_for('get_terms')}}">
                            <i class="material-icons left">menu_book</i>
                            Glossary
                        </a>
                    </li>
                    <!-- Dropdown Trigger : Categories-->
                    <li>
                        <a class="dropdown-trigger dropdown-button nav-links" 
                            href="#!" data-activates="dropdown1">
                            <i class="material-icons left">label</i>
                            Categories<i class="material-icons right">arrow_drop_down</i>
                        </a>
                    </li>
                    <!-- Dropdown Link Structure : Categories -->
                    <ul id="dropdown1" class="dropdown-content">
                        <li><a class="nav-drop cyan-text text-accent-4" href="{{url_for('get_categories')}}">See All Categories</a></li> 
                        <li class="divider"></li>
                        <li><a class="nav-drop cyan-text text-accent-4" href="{{url_for('filter_terms', category='Assets')}}">Assets</a></li>
                        <li><a class="nav-drop cyan-text text-accent-4" href="{{url_for('filter_terms', category='Coins & Tokens')}}">Coins & Tokens</a></li>
                        <li><a class="nav-drop cyan-text text-accent-4" href="{{url_for('filter_terms', category='Financial Concepts')}}">Financial Concepts</a></li>
                    </ul>
                    <!-- Dropdown Trigger : Add New -->
                    <li>
                        <a class="dropdown-trigger dropdown-button nav-links" 
                            href="#!" data-activates="dropdown2">
                            <i class="material-icons left">library_add</i>
                            Add New<i class="material-icons right">arrow_drop_down</i>
                        </a>
                    </li>
                    <!-- Dropdown Link Structure : Add New -->
                    <ul id="dropdown2" class="dropdown-content">
                        <li><a class="nav-drop cyan-text text-accent-4" href="{{url_for('add_term')}}">New Term</a></li>
                        <li><a class="nav-drop cyan-text text-accent-4" href="{{url_for('add_category')}}">New Category</a></li>
                    </ul>
                    <li>
                        {% if session['user_name'] %}
                            <div class="white-text nav-links" href="#">
                                Hi {{ session['user_name'] }}!
                            </div>
                        {% endif %}
                    </li>    
                    <li>
                        {% if session['user_name'] %}
                            <a class="btn cyan accent-4" href="{{ url_for('logout') }}" alt="Log out">
                                Log out
                            </a>
                        {% else %}
                            <a class="btn cyan accent-4" href="{{ url_for('login') }}" alt="Log in">
                                Log In
                            </a>
                        {% endif %}
                    </li>
                </ul>
                
                <!-- Mobile Nav -->
                <ul class="side-nav cyan-text text-darken-2" id="mobile-demo">
                    <li>
                        {% if session['user_name'] %}
                            <a class="btn cyan accent-4" href="{{ url_for('logout') }}">
                                Log out
                            </a>
                        {% else %}
                            <a href="{{ url_for('login') }}">
                                <i class="material-icons">vpn_key</i>
                                Log In
                            </a>
                        {% endif %}
                    </li>
                    <li>
                        {% if session['user_name'] %}
                            <div>
                                Hi {{ session['user_name'] }}!
                            </div>
                        {% endif %}
                    </li>    
                    <li><a href="{{url_for('get_terms')}}">
                            <i class="material-icons left">menu_book</i>
                            Glossary
                        </a>
                    </li>
                    <li><a href="{{url_for('get_categories')}}">
                            <i class="material-icons left">label</i>
                            All Categories
                        </a>
                    </li>
                    <li><a href="{{url_for('add_term')}}">
                            <i class="material-icons left">library_add</i>
                            New Term
                        </a>
                    </li>   
                    <li><a href="{{url_for('add_category')}}">
                            <i class="material-icons left">library_add</i>
                            New Category
                        </a>
                    </li>
                </ul>

            <!-- Nav wrapper ends here -->
            </div>

        <!-- Nav ends here -->
        </nav>

    <!-- Header ends here -->
    </header>

    
    <!-- Container starts here -->
    <div class="container template-container">
        <!-- Flash Message -->
        <!-- Code Credits: Corey Schafer Flask Tutorial https://www.youtube.com/playlist?list=PL-osiE80TeTs4UjLw5MM6OjgkjFeUxCYH -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
              {% for category, message in messages %}
                <div class="alert alert-{{ category }}" 
                     style="margin: 20px 0px 5px 0px;
                            padding: 20px 15px;
                            text-transform: uppercase;
                            letter-spacing: 0.1em;
                            text-align: center">
                  {{ message }}
                </div>
              {% endfor %}
            {% endif %}
          {% endwith %}
        <!-- Parent Template Block -->
        {% block content %}
        {% endblock %}
    </div>


    <!-- Jquery -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <!-- Materialize JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
    <!-- Js Functions -->
    <script type="text/javascript">
        // JS Initialization
        $(document).ready(function(){
            // Js Collapsible Accordion
            $('.collapsible').collapsible();
            // Js Select
            $('select').material_select();
            // Nav and mobile nav
            $('.button-collapse').sideNav();
            $('.sidenav').sidenav();
            $('.dropdown-button').dropdown();
            // Search
            $('input.autocomplete').autocomplete();
            $('#search').val();
        });
        
    </script>
</main>

<!-- Footer and Copyright-->
<footer>
    <div class="footer-copyright center">
        <div class="container">
            <div class="footer-session grey-text">
                {% if session['user_name'] %}
                    You are logged in as <span class="footer-session-user">{{ session['user_name'] }}</span>.
                    <a href="{{ url_for('logout') }}">Log out here.</a>
                {% endif %}
            </div>
            <div class="foot-creds grey-text">
                The Cryptopedia World
            </div>
            <div class="ether-girl">
                <a href="http://kescardoso.com" target ='_blank' alt='Blog: The Ether Girl'>Built by The Ether Girl</a>
            </div>
            <div class ="foot-links">
                <a href="{{ url_for('credits') }}" alt='Credits'><i class="footer-links fas fa-info-circle"></i></a>
                <a href="mailto:info@kescardoso.com" target ='_blank' alt='Contact'><i class="footer-links far fa-envelope"></i></a>
                <a href="https://github.com/kescardoso/cryptopedia" target ='_blank' alt='Github Repo'><i class="footer-links fab fa-github-alt"></i></a>
                <a href="https://twitter.com/TokensForK" target ='_blank' alt='Twitter'><i class="footer-links fab fa-twitter"></i></a>
            </div>
        </div>
    </div>
</footer>

</html>